{"version":3,"sources":["../src/index.js"],"names":["CustomError","require","cors","app","use","bodyParser","json","fs","https","cert","readFileSync","key","port","process","env","PORT","express","urlencoded","extended","credentials","authenticate","req","res","next","httpRequest","then","statusCode","data","bal","JSON","parse","status","message","catch","e","post","sendmailController","get","headers","set","send","end","all","adminController","userController","delete","activitiesController","followerController","trendingController","trendingReactController","trendingReactCommentController","contactController","quitController","reportController","authController","err","error","listen","console","log","httpServer","createServer"],"mappings":";;AAAA;;AACA;;AAEA;;AAEA;;AACA;;AAEA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AAEA;;AAEA;;;;AAEA,MAAMA,WAAW,GAAGC,OAAO,CAAC,wBAAD,CAA3B;;AAEA,IAAIC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAAlB;;AACA,MAAME,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;;AAEA,MAAMC,EAAE,GAAGN,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMO,KAAK,GAAGP,OAAO,CAAC,OAAD,CAArB;;AAEA,MAAMQ,IAAI,GAAGF,EAAE,CAACG,YAAH,CAAgB,qBAAhB,CAAb;AACA,MAAMC,GAAG,GAAGJ,EAAE,CAACG,YAAH,CAAgB,iBAAhB,CAAZ;AAEA,MAAME,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC,C,CAEA;;AACAZ,GAAG,CAACC,GAAJ,CAAQY,iBAAQC,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AACAf,GAAG,CAACC,GAAJ,CAAQY,iBAAQV,IAAR,EAAR;AAEAH,GAAG,CAACC,GAAJ,CAAQF,IAAI,EAAZ,E,CAEA;AACA;AACA;;AAEA,MAAMiB,WAAW,GAAG;AAClBR,EAAAA,GADkB;AAElBF,EAAAA;AAFkB,CAApB;;AAKA,SAASW,YAAT,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiCC,IAAjC,EAAuC;AACrC,QAAMC,WAAW,GAAG,2BAAaH,GAAb,CAApB;AAEA,qBAAkBG,WAAlB,EACKC,IADL,CACU,CAAC;AAAEC,IAAAA,UAAF;AAAcC,IAAAA;AAAd,GAAD,KAAyB;AAC7B,UAAMC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWH,IAAX,CAAZ;;AACA,QAAGD,UAAU,IAAI,GAAjB,EAAqB;AACnB,aAAOH,IAAI,EAAX;AACD,KAFD,MAGK;AACH,YAAM,IAAIvB,WAAJ,CAAgB4B,GAAG,CAACG,MAApB,EAA4BH,GAAG,CAACI,OAAhC,CAAN;AACD;AAEJ,GAVH,EAWGC,KAXH,CAWSC,CAAC,IAAI;AACV,WAAOX,IAAI,CAACW,CAAD,CAAX;AACD,GAbH;AAcD;;AAGD/B,GAAG,CAACgC,IAAJ,CAAS,WAAT,EAAsBC,kBAAtB;AACAjC,GAAG,CAACkC,GAAJ,CAAQ,WAAR,EAAqBjB,YAArB,EAAmCgB,kBAAnC;;AAEA,SAASA,kBAAT,CAA6Bf,GAA7B,EAAkCC,GAAlC,EAAuC;AACrC,QAAME,WAAW,GAAG,2BAAaH,GAAb,CAApB;AACA,uBAAsBG,WAAtB,EACKC,IADL,CACU,CAAC;AAAEa,IAAAA,OAAF;AAAWZ,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,GAAD,KACNL,GAAG,CACEiB,GADL,CACSD,OADT,EAEKP,MAFL,CAEYL,UAFZ,EAGKc,IAHL,CAGUb,IAHV,CAFJ,EAOKM,KAPL,CAOWC,CAAC,IAAIZ,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBU,GAAhB,EAPhB;AAQD;;AAGDtC,GAAG,CAACuC,GAAJ,CAAQ,QAAR,EAAkBC,eAAlB;AACAxC,GAAG,CAACgC,IAAJ,CAAS,YAAT,EAAuBQ,eAAvB;AACAxC,GAAG,CAACgC,IAAJ,CAAS,aAAT,EAAwBQ,eAAxB;AACAxC,GAAG,CAACgC,IAAJ,CAAS,cAAT,EAAyBQ,eAAzB;AACAxC,GAAG,CAACkC,GAAJ,CAAQ,YAAR,EAAsBM,eAAtB;AACAxC,GAAG,CAACkC,GAAJ,CAAQ,gBAAR,EAA0BM,eAA1B;AACAxC,GAAG,CAACkC,GAAJ,CAAQ,2BAAR,EAAqCM,eAArC;;AAEA,SAASA,eAAT,CAA0BtB,GAA1B,EAA+BC,GAA/B,EAAoC;AAChC,QAAME,WAAW,GAAG,2BAAaH,GAAb,CAApB;AACA,sBAAmBG,WAAnB,EACKC,IADL,CACU,CAAC;AAAEa,IAAAA,OAAF;AAAWZ,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,GAAD,KACNL,GAAG,CACEiB,GADL,CACSD,OADT,EAEKP,MAFL,CAEYL,UAFZ,EAGKc,IAHL,CAGUb,IAHV,CAFJ,EAOKM,KAPL,CAOWC,CAAC,IAAIZ,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBU,GAAhB,EAPhB;AAQH;;AAEDtC,GAAG,CAACkC,GAAJ,CAAQ,OAAR,EAAiBjB,YAAjB,EAA+BwB,cAA/B;AACAzC,GAAG,CAACgC,IAAJ,CAAS,WAAT,EAAsBS,cAAtB;AACAzC,GAAG,CAACgC,IAAJ,CAAS,YAAT,EAAuBS,cAAvB;AACAzC,GAAG,CAACgC,IAAJ,CAAS,aAAT,EAAwBf,YAAxB,EAAsCwB,cAAtC;AACAzC,GAAG,CAACgC,IAAJ,CAAS,cAAT,EAAyBf,YAAzB,EAAuCwB,cAAvC;AACAzC,GAAG,CAACgC,IAAJ,CAAS,sBAAT,EAAiCf,YAAjC,EAA+CwB,cAA/C,E,CACA;AACA;;AACAzC,GAAG,CAAC0C,MAAJ,CAAW,WAAX,EAAwBzB,YAAxB,EAAsCwB,cAAtC;AACAzC,GAAG,CAACkC,GAAJ,CAAQ,2BAAR,EAAqCjB,YAArC,EAAmDwB,cAAnD;AACAzC,GAAG,CAACkC,GAAJ,CAAQ,eAAR,EAAyBjB,YAAzB,EAAuCwB,cAAvC;AACAzC,GAAG,CAACkC,GAAJ,CAAQ,qBAAR,EAA+BjB,YAA/B,EAA6CwB,cAA7C;AACAzC,GAAG,CAACkC,GAAJ,CAAQ,wCAAR,EAAkDO,cAAlD;;AAEA,SAASA,cAAT,CAAyBvB,GAAzB,EAA8BC,GAA9B,EAAmC;AAC/B,QAAME,WAAW,GAAG,2BAAaH,GAAb,CAApB;AACA,qBAAkBG,WAAlB,EACKC,IADL,CACU,CAAC;AAAEa,IAAAA,OAAF;AAAWZ,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,GAAD,KACNL,GAAG,CACEiB,GADL,CACSD,OADT,EAEKP,MAFL,CAEYL,UAFZ,EAGKc,IAHL,CAGUb,IAHV,CAFJ,EAOKM,KAPL,CAOWC,CAAC,IAAIZ,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBU,GAAhB,EAPhB;AAQH;;AAGDtC,GAAG,CAACkC,GAAJ,CAAQ,aAAR,EAAuBjB,YAAvB,EAAqC0B,oBAArC;AACA3C,GAAG,CAACgC,IAAJ,CAAS,iBAAT,EAA4BW,oBAA5B;AACA3C,GAAG,CAAC0C,MAAJ,CAAW,iBAAX,EAA8BC,oBAA9B;AACA3C,GAAG,CAACkC,GAAJ,CAAQ,gCAAR,EAA0CjB,YAA1C,EAAwD0B,oBAAxD;AACA3C,GAAG,CAACkC,GAAJ,CAAQ,gCAAR,EAA0CjB,YAA1C,EAAwD0B,oBAAxD;AACA3C,GAAG,CAACkC,GAAJ,CAAQ,iCAAR,EAA2CjB,YAA3C,EAAyD0B,oBAAzD;;AAGA,SAASA,oBAAT,CAA+BzB,GAA/B,EAAoCC,GAApC,EAAyC;AAEvC,QAAME,WAAW,GAAG,2BAAaH,GAAb,CAApB;AACA,2BAAwBG,WAAxB,EACGC,IADH,CACQ,CAAC;AAAEa,IAAAA,OAAF;AAAWZ,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,GAAD,KACJL,GAAG,CACAiB,GADH,CACOD,OADP,EAEGP,MAFH,CAEUL,UAFV,EAGGc,IAHH,CAGQb,IAHR,CAFJ,EAOGM,KAPH,CAOSC,CAAC,IAAIZ,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBU,GAAhB,EAPd;AAQD;;AAGDtC,GAAG,CAACkC,GAAJ,CAAQ,WAAR,EAAqBjB,YAArB,EAAmC2B,kBAAnC;AACA5C,GAAG,CAACgC,IAAJ,CAAS,eAAT,EAA0Bf,YAA1B,EAAwC2B,kBAAxC;AACA5C,GAAG,CAACgC,IAAJ,CAAS,kBAAT,EAA6Bf,YAA7B,EAA2C2B,kBAA3C;AACA5C,GAAG,CAACgC,IAAJ,CAAS,yBAAT,EAAoCf,YAApC,EAAkD2B,kBAAlD;AACA5C,GAAG,CAACgC,IAAJ,CAAS,yBAAT,EAAoCf,YAApC,EAAkD2B,kBAAlD;AACA5C,GAAG,CAACgC,IAAJ,CAAS,iCAAT,EAA4Cf,YAA5C,EAA0D2B,kBAA1D;AACA5C,GAAG,CAACgC,IAAJ,CAAS,kCAAT,EAA6Cf,YAA7C,EAA2D2B,kBAA3D;AACA5C,GAAG,CAACgC,IAAJ,CAAS,iCAAT,EAA4Cf,YAA5C,EAA0D2B,kBAA1D;AACA5C,GAAG,CAACgC,IAAJ,CAAS,kCAAT,EAA6Cf,YAA7C,EAA2D2B,kBAA3D;AAEA5C,GAAG,CAAC0C,MAAJ,CAAW,eAAX,EAA4BzB,YAA5B,EAA2C2B,kBAA3C;AACA5C,GAAG,CAAC0C,MAAJ,CAAW,6BAAX,EAA0CzB,YAA1C,EAAwD2B,kBAAxD;AACA5C,GAAG,CAAC0C,MAAJ,CAAW,6BAAX,EAA0CE,kBAA1C;AACA5C,GAAG,CAAC0C,MAAJ,CAAW,gCAAX,EAA8CE,kBAA9C;AAEA5C,GAAG,CAACkC,GAAJ,CAAQ,kBAAR,EAA4BjB,YAA5B,EAA0C2B,kBAA1C;AACA5C,GAAG,CAACkC,GAAJ,CAAQ,mBAAR,EAA6BjB,YAA7B,EAA2C2B,kBAA3C;AACA5C,GAAG,CAACkC,GAAJ,CAAQ,qBAAR,EAA+BjB,YAA/B,EAA6C2B,kBAA7C;AACA5C,GAAG,CAACkC,GAAJ,CAAQ,qCAAR,EAA+CjB,YAA/C,EAA6D2B,kBAA7D;;AAGA,SAASA,kBAAT,CAA6B1B,GAA7B,EAAkCC,GAAlC,EAAuC;AAErC,QAAME,WAAW,GAAG,2BAAaH,GAAb,CAApB;AACA,0BAAsBG,WAAtB,EACGC,IADH,CACQ,CAAC;AAAEa,IAAAA,OAAF;AAAWZ,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,GAAD,KACJL,GAAG,CACAiB,GADH,CACOD,OADP,EAEGP,MAFH,CAEUL,UAFV,EAGGc,IAHH,CAGQb,IAHR,CAFJ,EAOGM,KAPH,CAOSC,CAAC,IAAIZ,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBU,GAAhB,EAPd;AAQD;;AAIDtC,GAAG,CAACkC,GAAJ,CAAQ,WAAR,EAAqBjB,YAArB,EAAmC4B,kBAAnC;AACA7C,GAAG,CAACgC,IAAJ,CAAS,eAAT,EAA0Bf,YAA1B,EAAwC4B,kBAAxC;AACA7C,GAAG,CAACgC,IAAJ,CAAS,kBAAT,EAA6Bf,YAA7B,EAA2C4B,kBAA3C;AACA7C,GAAG,CAAC0C,MAAJ,CAAW,eAAX,EAA4BG,kBAA5B;AAEA7C,GAAG,CAACkC,GAAJ,CAAQ,kBAAR,EAA4BjB,YAA5B,EAA0C4B,kBAA1C;AACA7C,GAAG,CAACkC,GAAJ,CAAQ,8BAAR,EAAwCjB,YAAxC,EAAsD4B,kBAAtD;;AAEA,SAASA,kBAAT,CAA6B3B,GAA7B,EAAkCC,GAAlC,EAAuC;AACrC,QAAME,WAAW,GAAG,2BAAaH,GAAb,CAApB;AACA,yBAAsBG,WAAtB,EACGC,IADH,CACQ,CAAC;AAAEa,IAAAA,OAAF;AAAWZ,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,GAAD,KACJL,GAAG,CACAiB,GADH,CACOD,OADP,EAEGP,MAFH,CAEUL,UAFV,EAGGc,IAHH,CAGQb,IAHR,CAFJ,EAOGM,KAPH,CAOSC,CAAC,IAAIZ,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBU,GAAhB,EAPd;AAQD;;AAGDtC,GAAG,CAACkC,GAAJ,CAAQ,iBAAR,EAA2BjB,YAA3B,EAAyC6B,uBAAzC;AACA9C,GAAG,CAACgC,IAAJ,CAAS,qBAAT,EAAgCf,YAAhC,EAA8C6B,uBAA9C;AACA9C,GAAG,CAACgC,IAAJ,CAAS,wBAAT,EAAmCf,YAAnC,EAAiD6B,uBAAjD;AACA9C,GAAG,CAACgC,IAAJ,CAAS,+BAAT,EAA0Cf,YAA1C,EAAwD6B,uBAAxD;AACA9C,GAAG,CAACgC,IAAJ,CAAS,uCAAT,EAAkDf,YAAlD,EAAgE6B,uBAAhE;AACA9C,GAAG,CAACgC,IAAJ,CAAS,wCAAT,EAAmDf,YAAnD,EAAiE6B,uBAAjE;AACA9C,GAAG,CAAC0C,MAAJ,CAAW,qBAAX,EAAkCzB,YAAlC,EAAgD6B,uBAAhD;AACA9C,GAAG,CAAC0C,MAAJ,CAAW,uCAAX,EAAoDzB,YAApD,EAAkE6B,uBAAlE,E,CACA;;AACA9C,GAAG,CAACkC,GAAJ,CAAQ,wBAAR,EAAkCjB,YAAlC,EAAgD6B,uBAAhD;AACA9C,GAAG,CAACkC,GAAJ,CAAQ,0CAAR,EAAoDjB,YAApD,EAAkE6B,uBAAlE;AACA9C,GAAG,CAACkC,GAAJ,CAAQ,sCAAR,EAAgDjB,YAAhD,EAA8D6B,uBAA9D;;AAEA,SAASA,uBAAT,CAAkC5B,GAAlC,EAAuCC,GAAvC,EAA4C;AAE1C,QAAME,WAAW,GAAG,2BAAaH,GAAb,CAApB;AACA,8BAA2BG,WAA3B,EACGC,IADH,CACQ,CAAC;AAAEa,IAAAA,OAAF;AAAWZ,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,GAAD,KACJL,GAAG,CACAiB,GADH,CACOD,OADP,EAEGP,MAFH,CAEUL,UAFV,EAGGc,IAHH,CAGQb,IAHR,CAFJ,EAOGM,KAPH,CAOSC,CAAC,IAAIZ,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBU,GAAhB,EAPd;AAQD;;AAGDtC,GAAG,CAACkC,GAAJ,CAAQ,yBAAR,EAAmCa,8BAAnC;AACA/C,GAAG,CAACgC,IAAJ,CAAS,6BAAT,EAAwCf,YAAxC,EAAsD8B,8BAAtD;AACA/C,GAAG,CAACgC,IAAJ,CAAS,gCAAT,EAA2Cf,YAA3C,EAAyD8B,8BAAzD;AACA/C,GAAG,CAACgC,IAAJ,CAAS,wCAAT,EAAmDf,YAAnD,EAAiE8B,8BAAjE;AACA/C,GAAG,CAACgC,IAAJ,CAAS,yCAAT,EAAoDe,8BAApD,E,CACA;;AACA/C,GAAG,CAACkC,GAAJ,CAAQ,gCAAR,EAA0CjB,YAA1C,EAAwD8B,8BAAxD;AACA/C,GAAG,CAACkC,GAAJ,CAAQ,4CAAR,EAAsDjB,YAAtD,EAAoE8B,8BAApE;AACA/C,GAAG,CAACkC,GAAJ,CAAQ,mDAAR,EAA6DjB,YAA7D,EAA2E8B,8BAA3E;AACA/C,GAAG,CAACkC,GAAJ,CAAQ,mDAAR,EAA6DjB,YAA7D,EAA2E8B,8BAA3E;AACA/C,GAAG,CAACkC,GAAJ,CAAQ,gDAAR,EAA0DjB,YAA1D,EAAwE8B,8BAAxE;AACA/C,GAAG,CAAC0C,MAAJ,CAAW,6BAAX,EAA0CK,8BAA1C;AACA/C,GAAG,CAAC0C,MAAJ,CAAW,yCAAX,EAAsDK,8BAAtD;;AAEA,SAASA,8BAAT,CAAyC7B,GAAzC,EAA8CC,GAA9C,EAAmD;AACjD,QAAME,WAAW,GAAG,2BAAaH,GAAb,CAApB;AACA,qCAAkCG,WAAlC,EACGC,IADH,CACQ,CAAC;AAAEa,IAAAA,OAAF;AAAWZ,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,GAAD,KACJL,GAAG,CACAiB,GADH,CACOD,OADP,EAEGP,MAFH,CAEUL,UAFV,EAGGc,IAHH,CAGQb,IAHR,CAFJ,EAOGM,KAPH,CAOSC,CAAC,IAAIZ,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBU,GAAhB,EAPd;AAQD;;AAIDtC,GAAG,CAACkC,GAAJ,CAAQ,UAAR,EAAoBjB,YAApB,EAAkC+B,iBAAlC;AACAhD,GAAG,CAACgC,IAAJ,CAAS,cAAT,EAAyBf,YAAzB,EAAuC+B,iBAAvC;AACAhD,GAAG,CAACkC,GAAJ,CAAQ,iBAAR,EAA2BjB,YAA3B,EAAyC+B,iBAAzC;AACAhD,GAAG,CAAC0C,MAAJ,CAAW,cAAX,EAA2BzB,YAA3B,EAAyC+B,iBAAzC;;AAGA,SAASA,iBAAT,CAA4B9B,GAA5B,EAAiCC,GAAjC,EAAsC;AAEpC,QAAME,WAAW,GAAG,2BAAaH,GAAb,CAApB;AACA,wBAAqBG,WAArB,EACGC,IADH,CACQ,CAAC;AAAEa,IAAAA,OAAF;AAAWZ,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,GAAD,KACJL,GAAG,CACAiB,GADH,CACOD,OADP,EAEGP,MAFH,CAEUL,UAFV,EAGGc,IAHH,CAGQb,IAHR,CAFJ,EAOGM,KAPH,CAOSC,CAAC,IAAIZ,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBU,GAAhB,EAPd;AAQD;;AAGDtC,GAAG,CAACkC,GAAJ,CAAQ,OAAR,EAAiBjB,YAAjB,EAA+BgC,cAA/B;AACAjD,GAAG,CAACgC,IAAJ,CAAS,WAAT,EAAsBf,YAAtB,EAAoCgC,cAApC;AACAjD,GAAG,CAACkC,GAAJ,CAAQ,cAAR,EAAwBjB,YAAxB,EAAsCgC,cAAtC;AACAjD,GAAG,CAAC0C,MAAJ,CAAW,WAAX,EAAwBzB,YAAxB,EAAsCgC,cAAtC;;AAGA,SAASA,cAAT,CAAyB/B,GAAzB,EAA8BC,GAA9B,EAAmC;AAEjC,QAAME,WAAW,GAAG,2BAAaH,GAAb,CAApB;AACA,qBAAkBG,WAAlB,EACGC,IADH,CACQ,CAAC;AAAEa,IAAAA,OAAF;AAAWZ,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,GAAD,KACJL,GAAG,CACAiB,GADH,CACOD,OADP,EAEGP,MAFH,CAEUL,UAFV,EAGGc,IAHH,CAGQb,IAHR,CAFJ,EAOGM,KAPH,CAOSC,CAAC,IAAIZ,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBU,GAAhB,EAPd;AAQD;;AAGDtC,GAAG,CAACkC,GAAJ,CAAQ,SAAR,EAAmBjB,YAAnB,EAAiCiC,gBAAjC;AACAlD,GAAG,CAACgC,IAAJ,CAAS,aAAT,EAAwBf,YAAxB,EAAsCiC,gBAAtC,E,CACA;;AACAlD,GAAG,CAACkC,GAAJ,CAAQ,mCAAR,EAA6CjB,YAA7C,EAA2DiC,gBAA3D;AACAlD,GAAG,CAACkC,GAAJ,CAAQ,kCAAR,EAA4CjB,YAA5C,EAA0DiC,gBAA1D;AACAlD,GAAG,CAACkC,GAAJ,CAAQ,0CAAR,EAAoDjB,YAApD,EAAkEiC,gBAAlE;AACAlD,GAAG,CAACkC,GAAJ,CAAQ,gBAAR,EAA0BjB,YAA1B,EAAwCiC,gBAAxC;AACAlD,GAAG,CAAC0C,MAAJ,CAAW,+BAAX,EAA4CzB,YAA5C,EAA0DiC,gBAA1D;AACAlD,GAAG,CAAC0C,MAAJ,CAAW,+BAAX,EAA4CzB,YAA5C,EAA0DiC,gBAA1D;AACAlD,GAAG,CAAC0C,MAAJ,CAAW,aAAX,EAA0BzB,YAA1B,EAAwCiC,gBAAxC;;AAGA,SAASA,gBAAT,CAA2BhC,GAA3B,EAAgCC,GAAhC,EAAqC;AAEnC,QAAME,WAAW,GAAG,2BAAaH,GAAb,CAApB;AACA,uBAAoBG,WAApB,EACGC,IADH,CACQ,CAAC;AAAEa,IAAAA,OAAF;AAAWZ,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,GAAD,KACJL,GAAG,CACAiB,GADH,CACOD,OADP,EAEGP,MAFH,CAEUL,UAFV,EAGGc,IAHH,CAGQb,IAHR,CAFJ,EAOGM,KAPH,CAOSC,CAAC,IAAIZ,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBU,GAAhB,EAPd;AAQD;;AAIDtC,GAAG,CAACkC,GAAJ,CAAQ,OAAR,EAAiBjB,YAAjB,EAA+BkC,cAA/B,E,CACA;;AACAnD,GAAG,CAACkC,GAAJ,CAAQ,oBAAR,EAA8BjB,YAA9B,EAA4CkC,cAA5C;;AAEA,SAASA,cAAT,CAAyBjC,GAAzB,EAA8BC,GAA9B,EAAmC;AACjC,QAAME,WAAW,GAAG,2BAAaH,GAAb,CAApB;AACA,qBAAkBG,WAAlB,EACKC,IADL,CACU,CAAC;AAAEa,IAAAA,OAAF;AAAWZ,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,GAAD,KACNL,GAAG,CACEiB,GADL,CACSD,OADT,EAEKP,MAFL,CAEYL,UAFZ,EAGKc,IAHL,CAGUb,IAHV,CAFJ,EAOKM,KAPL,CAOWC,CAAC,IAAIZ,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBU,GAAhB,EAPhB;AAQD;;AAGDtC,GAAG,CAACC,GAAJ,CAAQ,CAACmD,GAAD,EAAMlC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,KAAyB;AAC/B,MAAIgC,GAAJ,EAAS;AACL;AACAjC,IAAAA,GAAG,CAACS,MAAJ,CAAWwB,GAAG,CAACxB,MAAJ,IAAc,GAAzB;AACAT,IAAAA,GAAG,CAAChB,IAAJ,CAAS;AACP0B,MAAAA,OAAO,EAAEuB,GAAG,CAACvB,OADN;AAEPwB,MAAAA,KAAK,EAAED;AAFA,KAAT;AAIH,GAR8B,CAS/B;;AACD,CAVD;AAaApD,GAAG,CAACsD,MAAJ,CAAW7C,IAAX,EAAiB,MAAM8C,OAAO,CAACC,GAAR,CAAa,wBAAD,GAAyB9C,OAAO,CAACC,GAAR,CAAYC,IAArC,IAA6C,IAAzD,CAAvB;AAEA,MAAM6C,UAAU,GAAGpD,KAAK,CAACqD,YAAN,CAAmB1C,WAAnB,EAAgChB,GAAhC,CAAnB;AACAyD,UAAU,CAACH,MAAX,CAAkB,IAAlB","sourcesContent":["import express from 'express'\nimport bodyParser from 'body-parser'\n\nimport handleAuthRequest from './auth'\n\nimport handleUserRequest from './user'\nimport handleAdminRequest from './admin'\n\nimport handleActivitiesRequest from './activities'\n\nimport handleTrendingRequest from './trending'\nimport handleTrendingReactRequest from './trending-react'\nimport handleTrendingReactCommentRequest from './trending-react-comment'\nimport handleFollowerRequest from './followers'\nimport handleReportRequest from './report'\nimport handleQuitRequest from './quit'\n\nimport handleSendmailRequest from './mailer'\n\nimport handleContactRequest from './contact'\n\nimport adaptRequest from './helpers/adapt-request'\n\nconst CustomError = require('./helpers/custom-error');\n\nvar cors = require('cors')\nconst app = express();\napp.use(bodyParser.json());\n\nconst fs = require('fs')\nconst https = require('https')\n\nconst cert = fs.readFileSync('src/certificate.crt')\nconst key = fs.readFileSync('src/private.key')\n\nconst port = process.env.PORT || 9090;\n\n//Middleware\napp.use(express.urlencoded({ extended: true}));\napp.use(express.json());\n\napp.use(cors());\n\n// app.get('/.well-known/pki-validation/8500F0D835681EC5795D4277F922F074.txt', (req, res) => {\n//   res.sendFile('/home/ec2-user/server/src/8500F0D835681EC5795D4277F922F074.txt')\n// })\n\nconst credentials = {\n  key,\n  cert\n}\n\nfunction authenticate (req, res, next) {\n  const httpRequest = adaptRequest(req)\n  \n  handleAuthRequest(httpRequest)\n      .then(({ statusCode, data}) => {\n        const bal = JSON.parse(data)\n        if(statusCode == 200){\n          return next();\n        } \n        else {\n          throw new CustomError(bal.status, bal.message)\n        }\n\n    })\n    .catch(e => {\n      return next(e);\n    })\n}\n\n\napp.post('/sendmail', sendmailController);\napp.get('/sendmail', authenticate, sendmailController);\n\nfunction sendmailController (req, res) {\n  const httpRequest = adaptRequest(req)\n  handleSendmailRequest(httpRequest)\n      .then(({ headers, statusCode, data }) =>\n      res\n          .set(headers)\n          .status(statusCode) \n          .send(data)\n      )\n      .catch(e => res.status(500).end())\n}\n\n\napp.all('/admin', adminController);\napp.post('/admin/add', adminController);\napp.post('/admin/auth', adminController);\napp.post('/admin/reset', adminController);\napp.get('/admin/:id', adminController);\napp.get('/admin/?id=:id', adminController);\napp.get('/admin/find/?email=:email', adminController);\n\nfunction adminController (req, res) {\n    const httpRequest = adaptRequest(req)\n    handleAdminRequest(httpRequest)\n        .then(({ headers, statusCode, data }) =>\n        res\n            .set(headers)\n            .status(statusCode) \n            .send(data)\n        )\n        .catch(e => res.status(500).end())\n}\n\napp.get('/user', authenticate, userController);\napp.post('/user/add', userController);\napp.post('/user/auth', userController);\napp.post('/user/reset', authenticate, userController);\napp.post('/user/verify', authenticate, userController);\napp.post('/user/reset_password', authenticate, userController);\n// app.get('/user/:id', authenticate, userController);\n// app.get('/user/:category', authenticate, userController);\napp.delete('/user/:id', authenticate, userController);\napp.get('/user/?category=:category', authenticate, userController);\napp.get('/user/?id=:id', authenticate, userController);\napp.get('/user/?email=:email', authenticate, userController);\napp.get('/user/verify/?verifyemail=:verifyemail', userController);\n\nfunction userController (req, res) {\n    const httpRequest = adaptRequest(req)\n    handleUserRequest(httpRequest)\n        .then(({ headers, statusCode, data }) =>\n        res\n            .set(headers)\n            .status(statusCode) \n            .send(data)\n        )\n        .catch(e => res.status(500).end())\n}\n\n\napp.get('/activities', authenticate, activitiesController);\napp.post('/activities/add', activitiesController);\napp.delete('/activities/:id', activitiesController);\napp.get('/activities?category=:category', authenticate, activitiesController);\napp.get('/activities?password=:password', authenticate, activitiesController);\napp.get('/activities?cat=:cat&pass=:pass', authenticate, activitiesController);\n\n\nfunction activitiesController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleActivitiesRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.get('/follower', authenticate, followerController);\napp.post('/follower/add', authenticate, followerController);\napp.post('/follower/verify', authenticate, followerController);\napp.post('/follower/update-member', authenticate, followerController);\napp.post('/follower/update-mentor', authenticate, followerController);\napp.post('/follower/update-member-picture', authenticate, followerController);\napp.post('/follower/update-member-password', authenticate, followerController);\napp.post('/follower/update-mentor-picture', authenticate, followerController);\napp.post('/follower/update-mentor-password', authenticate, followerController);\n\napp.delete('/follower/:id', authenticate,  followerController);\napp.delete('/follower/member/:member_id', authenticate, followerController);\napp.delete('/follower/mentor/:mentor_id', followerController);\napp.delete('/follower/unfollow/:mid/:memid',  followerController);\n\napp.get('/follower?id=:id', authenticate, followerController);\napp.get('/follower?mid=:id', authenticate, followerController);\napp.get('/follower?memid=:id', authenticate, followerController);\napp.get('/follower?m_id=:m_id&mem_id=:mem_id', authenticate, followerController);\n\n\nfunction followerController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleFollowerRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\n\napp.get('/trending', authenticate, trendingController);\napp.post('/trending/add', authenticate, trendingController);\napp.post('/trending/update', authenticate, trendingController);\napp.delete('/trending/:id', trendingController);\n\napp.get('/trending?id=:id', authenticate, trendingController);\napp.get('/trending?category=:category', authenticate, trendingController);\n\nfunction trendingController (req, res) {\n  const httpRequest = adaptRequest(req)\n  handleTrendingRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.get('/trending-react', authenticate, trendingReactController);\napp.post('/trending-react/add', authenticate, trendingReactController);\napp.post('/trending-react/verify', authenticate, trendingReactController);\napp.post('/trending-react/update-mentor', authenticate, trendingReactController);\napp.post('/trending-react/update-mentor-picture', authenticate, trendingReactController);\napp.post('/trending-react/update-mentor-password', authenticate, trendingReactController);\napp.delete('/trending-react/:id', authenticate, trendingReactController);\napp.delete('/trending-react/trending/:trending_id', authenticate, trendingReactController);\n// app.get('/trending-react/:id', authenticate, trendingReactController);\napp.get('/trending-react?id=:id', authenticate, trendingReactController);\napp.get('/trending-react?trending_id=:trending_id', authenticate, trendingReactController);\napp.get('/trending-react?mentor_id=:mentor_id', authenticate, trendingReactController);\n\nfunction trendingReactController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleTrendingReactRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.get('/trending-react-comment', trendingReactCommentController);\napp.post('/trending-react-comment/add', authenticate, trendingReactCommentController);\napp.post('/trending-react-comment/update', authenticate, trendingReactCommentController);\napp.post('/trending-react-comment/update-picture', authenticate, trendingReactCommentController);\napp.post('/trending-react-comment/update-password', trendingReactCommentController);\n// app.get('/trending-react-comment/:id', authenticate, trendingReactCommentController);\napp.get('/trending-react-comment?id=:id', authenticate, trendingReactCommentController);\napp.get('/trending-react-comment?react_id=:react_id', authenticate, trendingReactCommentController);\napp.get('/trending-react-comment?r_id=:r_id&statux=:statux', authenticate, trendingReactCommentController);\napp.get('/trending-react-comment?c_id=:c_id&statux=:statux', authenticate, trendingReactCommentController);\napp.get('/trending-react-comment?comment_id=:comment_id', authenticate, trendingReactCommentController);\napp.delete('/trending-react-comment/:id', trendingReactCommentController);\napp.delete('/trending-react-comment/all/:comment_id', trendingReactCommentController);\n\nfunction trendingReactCommentController (req, res) {\n  const httpRequest = adaptRequest(req)\n  handleTrendingReactCommentRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\n\napp.get('/contact', authenticate, contactController);\napp.post('/contact/add', authenticate, contactController);\napp.get('/contact?id=:id', authenticate, contactController);\napp.delete('/contact/:id', authenticate, contactController);\n\n\nfunction contactController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleContactRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.get('/quit', authenticate, quitController);\napp.post('/quit/add', authenticate, quitController);\napp.get('/quit?id=:id', authenticate, quitController);\napp.delete('/quit/:id', authenticate, quitController);\n\n\nfunction quitController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleQuitRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.get('/report', authenticate, reportController);\napp.post('/report/add', authenticate, reportController);\n// app.get('/report/:id', authenticate, reportController);\napp.get('/report/?reporter_id=:reporter_id', authenticate, reportController);\napp.get('/report?reportee_id=:reportee_id', authenticate, reportController);\napp.get('/report?report_category=:report_category', authenticate, reportController);\napp.get('/report?id=:id', authenticate, reportController);\napp.delete('/report/reporter/:reporter_id', authenticate, reportController);\napp.delete('/report/reportee/:reportee_id', authenticate, reportController);\napp.delete('/report/:id', authenticate, reportController);\n\n\nfunction reportController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleReportRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\n\napp.get('/auth', authenticate, authController);\n// app.get('/auth/:id', authController);\napp.get('/auth?email=:email', authenticate, authController);\n\nfunction authController (req, res) {\n  const httpRequest = adaptRequest(req)\n  handleAuthRequest(httpRequest)\n      .then(({ headers, statusCode, data }) =>\n      res\n          .set(headers)\n          .status(statusCode) \n          .send(data)\n      )\n      .catch(e => res.status(500).end())\n}\n\n\napp.use((err, req, res, next) => {\n  if (err) {\n      // handleError(err, res);\n      res.status(err.status || 500);\n      res.json({\n        message: err.message,\n        error: err\n      });\n  }\n  // console.log(JSON.stringify(req.body))\n});\n\n\napp.listen(port, () => console.log(`Listening on port 9090`+process.env.PORT || 9090));\n\nconst httpServer = https.createServer(credentials, app);\nhttpServer.listen(9443)"],"file":"index.js"}