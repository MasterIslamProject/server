{"version":3,"sources":["../src/index.js"],"names":["CustomError","require","cors","app","use","bodyParser","json","fs","https","port","process","env","PORT","express","urlencoded","extended","get","req","res","sendFile","authenticate","next","httpRequest","then","statusCode","data","bal","JSON","parse","status","message","catch","e","post","sendmailController","headers","set","send","end","all","adminController","userController","delete","activitiesController","followerController","trendingController","trendingReactController","trendingReactCommentController","contactController","quitController","reportController","authController","err","error","listen","console","log"],"mappings":"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","sourcesContent":["import express from 'express'\nimport bodyParser from 'body-parser'\n\nimport handleAuthRequest from './auth'\n\nimport handleUserRequest from './user'\nimport handleAdminRequest from './admin'\n\nimport handleActivitiesRequest from './activities'\n\nimport handleTrendingRequest from './trending'\nimport handleTrendingReactRequest from './trending-react'\nimport handleTrendingReactCommentRequest from './trending-react-comment'\nimport handleFollowerRequest from './followers'\nimport handleReportRequest from './report'\nimport handleQuitRequest from './quit'\n\nimport handleSendmailRequest from './mailer'\n\nimport handleContactRequest from './contact'\n\nimport adaptRequest from './helpers/adapt-request'\n\nconst CustomError = require('./helpers/custom-error');\n\nvar cors = require('cors')\nconst app = express();\napp.use(bodyParser.json());\n\nconst fs = require('fs')\nconst https = require('https')\n\n// const cert = fs.readFileSync('src/certificate.crt')\n// const key = fs.readFileSync('src/private.key')\n\nconst port = process.env.PORT || 9090;\n\n//Middleware\napp.use(express.urlencoded({ extended: true}));\napp.use(express.json());\n\napp.use(cors());\n\napp.get('/.well-known/pki-validation/8500F0D835681EC5795D4277F922F074.txt', (req, res) => {\n  res.sendFile('/home/ec2-user/server/src/8500F0D835681EC5795D4277F922F074.txt')\n})\n\n// const credentials = {\n//   key,\n//   cert\n// }\n\nfunction authenticate (req, res, next) {\n  const httpRequest = adaptRequest(req)\n  \n  handleAuthRequest(httpRequest)\n      .then(({ statusCode, data}) => {\n        const bal = JSON.parse(data)\n        if(statusCode == 200){\n          return next();\n        } \n        else {\n          throw new CustomError(bal.status, bal.message)\n        }\n\n    })\n    .catch(e => {\n      return next(e);\n    })\n}\n\n\napp.post('/sendmail', sendmailController);\napp.get('/sendmail', authenticate, sendmailController);\n\nfunction sendmailController (req, res) {\n  const httpRequest = adaptRequest(req)\n  handleSendmailRequest(httpRequest)\n      .then(({ headers, statusCode, data }) =>\n      res\n          .set(headers)\n          .status(statusCode) \n          .send(data)\n      )\n      .catch(e => res.status(500).end())\n}\n\n\napp.all('/admin', adminController);\napp.post('/admin/add', adminController);\napp.post('/admin/auth', adminController);\napp.post('/admin/reset', adminController);\napp.get('/admin/:id', adminController);\napp.get('/admin/?id=:id', adminController);\napp.get('/admin/find/?email=:email', adminController);\n\nfunction adminController (req, res) {\n    const httpRequest = adaptRequest(req)\n    handleAdminRequest(httpRequest)\n        .then(({ headers, statusCode, data }) =>\n        res\n            .set(headers)\n            .status(statusCode) \n            .send(data)\n        )\n        .catch(e => res.status(500).end())\n}\n\napp.get('/user', authenticate, userController);\napp.post('/user/add', userController);\napp.post('/user/auth', userController);\napp.post('/user/reset', authenticate, userController);\napp.post('/user/verify', authenticate, userController);\napp.post('/user/reset_password', authenticate, userController);\n// app.get('/user/:id', authenticate, userController);\n// app.get('/user/:category', authenticate, userController);\napp.delete('/user/:id', authenticate, userController);\napp.get('/user/?category=:category', authenticate, userController);\napp.get('/user/?id=:id', authenticate, userController);\napp.get('/user/?email=:email', authenticate, userController);\napp.get('/user/?verifyemail=:verifyemail', userController);\n\nfunction userController (req, res) {\n    const httpRequest = adaptRequest(req)\n    handleUserRequest(httpRequest)\n        .then(({ headers, statusCode, data }) =>\n        res\n            .set(headers)\n            .status(statusCode) \n            .send(data)\n        )\n        .catch(e => res.status(500).end())\n}\n\n\napp.get('/activities', authenticate, activitiesController);\napp.post('/activities/add', activitiesController);\napp.delete('/activities/:id', activitiesController);\napp.get('/activities?category=:category', authenticate, activitiesController);\napp.get('/activities?password=:password', authenticate, activitiesController);\napp.get('/activities?cat=:cat&pass=:pass', authenticate, activitiesController);\n\n\nfunction activitiesController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleActivitiesRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.get('/follower', authenticate, followerController);\napp.post('/follower/add', authenticate, followerController);\napp.post('/follower/verify', authenticate, followerController);\napp.post('/follower/update-member', authenticate, followerController);\napp.post('/follower/update-mentor', authenticate, followerController);\napp.post('/follower/update-member-picture', authenticate, followerController);\napp.post('/follower/update-member-password', authenticate, followerController);\napp.post('/follower/update-mentor-picture', authenticate, followerController);\napp.post('/follower/update-mentor-password', authenticate, followerController);\n\napp.delete('/follower/:id', authenticate,  followerController);\napp.delete('/follower/member/:member_id', authenticate, followerController);\napp.delete('/follower/mentor/:mentor_id', followerController);\napp.delete('/follower/unfollow/:mid/:memid',  followerController);\n\napp.get('/follower?id=:id', authenticate, followerController);\napp.get('/follower?mid=:id', authenticate, followerController);\napp.get('/follower?memid=:id', authenticate, followerController);\napp.get('/follower?m_id=:m_id&mem_id=:mem_id', authenticate, followerController);\n\n\nfunction followerController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleFollowerRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\n\napp.get('/trending', authenticate, trendingController);\napp.post('/trending/add', authenticate, trendingController);\napp.post('/trending/update', authenticate, trendingController);\napp.delete('/trending/:id', trendingController);\n\napp.get('/trending?id=:id', authenticate, trendingController);\napp.get('/trending?category=:category', authenticate, trendingController);\n\nfunction trendingController (req, res) {\n  const httpRequest = adaptRequest(req)\n  handleTrendingRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.get('/trending-react', authenticate, trendingReactController);\napp.post('/trending-react/add', authenticate, trendingReactController);\napp.post('/trending-react/verify', authenticate, trendingReactController);\napp.post('/trending-react/update-mentor', authenticate, trendingReactController);\napp.post('/trending-react/update-mentor-picture', authenticate, trendingReactController);\napp.post('/trending-react/update-mentor-password', authenticate, trendingReactController);\napp.delete('/trending-react/:id', authenticate, trendingReactController);\napp.delete('/trending-react/trending/:trending_id', authenticate, trendingReactController);\n// app.get('/trending-react/:id', authenticate, trendingReactController);\napp.get('/trending-react?id=:id', authenticate, trendingReactController);\napp.get('/trending-react?trending_id=:trending_id', authenticate, trendingReactController);\napp.get('/trending-react?mentor_id=:mentor_id', authenticate, trendingReactController);\n\nfunction trendingReactController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleTrendingReactRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.get('/trending-react-comment', trendingReactCommentController);\napp.post('/trending-react-comment/add', authenticate, trendingReactCommentController);\napp.post('/trending-react-comment/update', authenticate, trendingReactCommentController);\napp.post('/trending-react-comment/update-picture', authenticate, trendingReactCommentController);\napp.post('/trending-react-comment/update-password', trendingReactCommentController);\n// app.get('/trending-react-comment/:id', authenticate, trendingReactCommentController);\napp.get('/trending-react-comment?id=:id', authenticate, trendingReactCommentController);\napp.get('/trending-react-comment?react_id=:react_id', authenticate, trendingReactCommentController);\napp.get('/trending-react-comment?r_id=:r_id&statux=:statux', authenticate, trendingReactCommentController);\napp.get('/trending-react-comment?c_id=:c_id&statux=:statux', authenticate, trendingReactCommentController);\napp.get('/trending-react-comment?comment_id=:comment_id', authenticate, trendingReactCommentController);\napp.delete('/trending-react-comment/:id', trendingReactCommentController);\napp.delete('/trending-react-comment/all/:comment_id', trendingReactCommentController);\n\nfunction trendingReactCommentController (req, res) {\n  const httpRequest = adaptRequest(req)\n  handleTrendingReactCommentRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\n\napp.get('/contact', authenticate, contactController);\napp.post('/contact/add', authenticate, contactController);\napp.get('/contact?id=:id', authenticate, contactController);\napp.delete('/contact/:id', authenticate, contactController);\n\n\nfunction contactController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleContactRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.get('/quit', authenticate, quitController);\napp.post('/quit/add', authenticate, quitController);\napp.get('/quit?id=:id', authenticate, quitController);\napp.delete('/quit/:id', authenticate, quitController);\n\n\nfunction quitController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleQuitRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\napp.get('/report', authenticate, reportController);\napp.post('/report/add', authenticate, reportController);\n// app.get('/report/:id', authenticate, reportController);\napp.get('/report/?reporter_id=:reporter_id', authenticate, reportController);\napp.get('/report?reportee_id=:reportee_id', authenticate, reportController);\napp.get('/report?report_category=:report_category', authenticate, reportController);\napp.get('/report?id=:id', authenticate, reportController);\napp.delete('/report/reporter/:reporter_id', authenticate, reportController);\napp.delete('/report/reportee/:reportee_id', authenticate, reportController);\napp.delete('/report/:id', authenticate, reportController);\n\n\nfunction reportController (req, res) {\n  \n  const httpRequest = adaptRequest(req)\n  handleReportRequest(httpRequest)\n    .then(({ headers, statusCode, data }) =>\n      res\n        .set(headers)\n        .status(statusCode) \n        .send(data)\n    )\n    .catch(e => res.status(500).end())\n}\n\n\n\napp.get('/auth', authenticate, authController);\n// app.get('/auth/:id', authController);\napp.get('/auth?email=:email', authenticate, authController);\n\nfunction authController (req, res) {\n  const httpRequest = adaptRequest(req)\n  handleAuthRequest(httpRequest)\n      .then(({ headers, statusCode, data }) =>\n      res\n          .set(headers)\n          .status(statusCode) \n          .send(data)\n      )\n      .catch(e => res.status(500).end())\n}\n\n\napp.use((err, req, res, next) => {\n  if (err) {\n      // handleError(err, res);\n      res.status(err.status || 500);\n      res.json({\n        message: err.message,\n        error: err\n      });\n  }\n  // console.log(JSON.stringify(req.body))\n});\n\n\napp.listen(port, () => console.log(`Listening on port 9090`+process.env.PORT || 9090));\n\n// const httpServer = https.createServer(credentials, app);\n// httpServer.listen(9443)"],"file":"index.js"}